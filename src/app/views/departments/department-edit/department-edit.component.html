<aw-view-base>
  <aw-view-header [breadcrumb]="breadcrumb">Editar departamento</aw-view-header>

  <aw-card>
    <!-- form -->
    <ng-container *ngIf="department">
      <form (ngSubmit)="handleSubmit()" [formGroup]="form">
        <aw-non-field-errors [badRequest]="badRequest" />

        <ng-container *ngIf="form.get('name')?.value">
          <div class="my-3">
            <aw-badge
              [background]="form.get('background')?.value"
              [color]="form.get('color')?.value"
              [name]="form.get('name')?.value" />
          </div>
        </ng-container>

        <!-- name -->
        <div class="mb-2">
          <aw-form-input
            [badRequest]="badRequest"
            [form]="form"
            [submitted]="submitted"
            fieldName="name"
            formControlName="name"
            label="Nombre" />
        </div>
        <!-- end name -->

        <!-- active -->
        <div class="mb-2">
          <aw-form-checkbox
            [badRequest]="badRequest"
            [form]="form"
            [submitted]="submitted"
            fieldName="active"
            formControlName="active"
            label="Activo" />
        </div>
        <!-- end active -->

        <div class="d-flex">
          <!-- background -->
          <div class="mb-2">
            <aw-form-color
              [badRequest]="badRequest"
              [form]="form"
              [submitted]="submitted"
              fieldName="background"
              formControlName="background"
              label="Color de fondo" />
          </div>
          <!-- end background -->

          <!-- color -->
          <div class="mb-2 ms-5">
            <aw-form-color
              [badRequest]="badRequest"
              [form]="form"
              [submitted]="submitted"
              fieldName="color"
              formControlName="color"
              label="Color de texto" />
          </div>
          <!-- end color -->
        </div>

        <aw-btn-back cssClass="btn btn-primary mt-2" />

        <aw-btn-loading
          [loading]="loadingForm"
          btnClass="btn btn-success mt-2 ms-2"
          btnIcon="fa-regular fa-floppy-disk"
          btnText="Guardar"
          spinnerLoadingText="Guardando" />
      </form>
    </ng-container>
    <!-- end form -->
  </aw-card>
</aw-view-base>
