<aw-card>
  <table class="table table-striped table-borderless">
    <!-- sonarLint -->
    <caption></caption>
    <thead>
      <th></th>
    </thead>
    <!-- end sonarLint -->

    <!-- data employee-->
    <ng-container *ngIf="employeeSelected() && !loadingEmployee()">
      <tbody>
        <tr>
          <td>Nombre</td>
          <td>{{ employeeSelected()?.firstName }}</td>
        </tr>
        <tr>
          <td>Apellidos</td>
          <td>{{ employeeSelected()?.lastName }}</td>
        </tr>
        <tr>
          <td>Email</td>
          <td>{{ employeeSelected()?.email }}</td>
        </tr>
        <tr>
          <td>Teléfono</td>
          <td>{{ employeeSelected()?.phoneNumber }}</td>
        </tr>
        <tr>
          <td>Cuenta activa</td>
          <td>
            <span class="d-flex">
              <span>
                <span [innerHTML]="employeeSelected()?.active | boolToIcon"></span>
              </span>

              <!-- activar o desactivar cuenta -->
              <ng-container *ngIf="canUpdateStates">
                <span class="ms-auto">
                  <ng-container *ngIf="employeeSelected()?.active">
                    <aw-btn-loading
                      (click)="handleDeactivateEmployee()"
                      [loading]="loadingUpdateActive"
                      btnText="Desactivar cuenta"
                      btnClass="btn btn-sm btn-outline-danger ms-4"></aw-btn-loading>
                  </ng-container>

                  <ng-container *ngIf="!employeeSelected()?.active">
                    <aw-btn-loading
                      (click)="handleActivateEmployee()"
                      [loading]="loadingUpdateActive"
                      btnText="Activar cuenta"
                      btnClass="btn btn-sm btn-outline-success ms-4"></aw-btn-loading>
                  </ng-container>
                </span>
              </ng-container>
              <!-- end activar o desactivar cuenta -->
            </span>
          </td>
        </tr>
        <tr>
          <td>Invitación aceptada</td>
          <td>
            <span [innerHTML]="employeeSelected()?.emailConfirmed | boolToIcon"></span>
          </td>
        </tr>
        <tr>
          <td>Fecha de ingreso</td>
          <td>{{ employeeSelected()?.entryDate | datetime: dateShort }}</td>
        </tr>
        <tr>
          <td>Roles</td>
          <td>
            <span class="d-flex">
              <span>
                <ng-container *ngIf="!loadingEmployeeRoles()">
                  <span class="badge rounded-pill bg-success ms-1" *ngFor="let role of employeeSelectedRoles()">
                    {{ roleToHumanReadable(role.name) }}
                  </span>
                </ng-container>
                <ng-container *ngIf="loadingEmployeeRoles()">
                  <aw-spinner [loading]="loadingEmployeeRoles()"></aw-spinner>
                </ng-container>
              </span>

              <!-- add or remove role rrhh -->
              <span [awRequiredRole]="roles.enterpriseAdministrator" class="ms-auto">
                <ng-container *ngIf="isHumanResources && !isEnterpriseAdministrator">
                  <aw-btn-loading
                    (click)="handleRemoveRoleRrhh()"
                    [loading]="loadingUpdateRole"
                    [btnText]="btnTextDeleteRole"
                    btnClass="ms-auto btn btn-outline-danger btn-sm"></aw-btn-loading>
                </ng-container>

                <ng-container *ngIf="!isHumanResources && !isEnterpriseAdministrator">
                  <aw-btn-loading
                    (click)="handleAddRoleRrhh()"
                    [loading]="loadingUpdateRole"
                    [btnText]="btnTextAddRole"
                    btnClass="ms-auto btn btn-outline-warning btn-sm"></aw-btn-loading>
                </ng-container>
              </span>
              <!-- end add or remove role rrhh -->
            </span>
          </td>
        </tr>
      </tbody>
    </ng-container>
    <!-- end data employee-->

    <!-- no data -->
    <ng-container *ngIf="!employeeSelected() && !loadingEmployee()">
      <tbody>
        <tr>
          <td colspan="100%" class="text-center">
            <h6>Error al cargar datos de empleado.</h6>
          </td>
        </tr>
      </tbody>
    </ng-container>
    <!-- end no data -->

    <!-- loading spinner -->
    <ng-container *ngIf="loadingEmployee()">
      <tbody>
        <tr>
          <td colspan="100%" class="text-center">
            <aw-spinner [loading]="loadingEmployee()" [size]="100"></aw-spinner>
          </td>
        </tr>
      </tbody>
    </ng-container>
    <!-- end loading spinner -->
  </table>

  <button (click)="handleCleanEmployeeSelected()" [routerLink]="siteUrls.employees.list" class="btn btn-primary">
    <span class="fa-solid fa-chevron-left"></span> Volver
  </button>

  <ng-container *ngIf="canUpdateStates">
    <button (click)="handleCleanEmployeeSelected()" [routerLink]="urlToEdit" class="btn btn-success ms-2">
      <span class="fa-solid fa-pencil"></span> Editar
    </button>
  </ng-container>
</aw-card>
